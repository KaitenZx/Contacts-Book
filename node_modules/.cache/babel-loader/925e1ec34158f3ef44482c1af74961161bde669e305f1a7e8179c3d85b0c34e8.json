{"ast":null,"code":"import _objectSpread from\"/Users/kaiten/prgmStuff/adress-book/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/kaiten/prgmStuff/adress-book/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/kaiten/prgmStuff/adress-book/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import AddContactModal from'./components/AddContactModal';import{v4 as uuidv4}from'uuid';import style from'./styles/App.module.scss';import{getContacts,saveToLocalStorage,sortContacts}from'./utils/contactsUtils';import ContactsList from'./components/ContactsList';import Headline from'./components/Headline';import{LABELS_KEYS}from'./utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),editingId=_useState4[0],setEditingId=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showForm=_useState6[0],setShowForm=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),sortField=_useState8[0],setSortField=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),isAscending=_useState10[0],setIsAscending=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),searchQuery=_useState12[0],setSearchQuery=_useState12[1];useEffect(function(){var storageContacts=getContacts();setContacts(storageContacts);if(storageContacts.length===0){setShowForm(true);}},[]);var saveContact=function saveContact(newContact){if(newContact.id){var updatedContacts=contacts.map(function(contact){return contact.id===newContact.id?newContact:contact;});setContacts(updatedContacts);saveToLocalStorage(updatedContacts);setEditingId(\"\");}else{var id=uuidv4();setContacts([].concat(_toConsumableArray(contacts),[_objectSpread(_objectSpread({},newContact),{},{id:id})]));saveToLocalStorage([].concat(_toConsumableArray(contacts),[_objectSpread(_objectSpread({},newContact),{},{id:id})]));}};var editContact=function editContact(id){setEditingId(id);};var deleteContact=function deleteContact(id){var confirmDelete=window.confirm('Are you sure you want to delete this contact?');if(confirmDelete){setContacts(contacts.filter(function(contact){return contact.id!==id;}));}};var handleSortFieldChange=function handleSortFieldChange(field){setContacts(sortContacts(contacts,field,isAscending));setIsAscending(!isAscending);setSortField(field);};var filteredContacts=contacts.filter(function(contact){return Object.values(contact).some(function(contactField){return contactField.toLowerCase().includes(searchQuery.toLowerCase());});});return/*#__PURE__*/_jsxs(\"div\",{className:style.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.headerContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:style.header,children:\"Contacts Book\"}),/*#__PURE__*/_jsx(\"input\",{className:style.searchInput,type:\"text\",placeholder:\"Search contacts...\",value:searchQuery,onChange:function onChange(event){return setSearchQuery(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:style.addButton,onClick:function onClick(){return setShowForm(true);},children:\"Add a new contact\"})]}),/*#__PURE__*/_jsx(\"div\",{className:style.separator}),/*#__PURE__*/_jsxs(\"div\",{className:style.headlines,children:[LABELS_KEYS.map(function(label){return/*#__PURE__*/_jsx(Headline,{label:label,currentSortField:sortField,onClick:function onClick(){return handleSortFieldChange(label);},isAscending:isAscending},label);}),/*#__PURE__*/_jsx(\"div\",{className:style.placeholder})]}),showForm&&/*#__PURE__*/_jsx(AddContactModal,{contactsEmpty:contacts.length===0,setShowForm:setShowForm,saveContact:saveContact}),/*#__PURE__*/_jsx(ContactsList,{contacts:filteredContacts,editingId:editingId,editContact:editContact,saveContact:saveContact,deleteContact:deleteContact})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","AddContactModal","v4","uuidv4","style","getContacts","saveToLocalStorage","sortContacts","ContactsList","Headline","LABELS_KEYS","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","contacts","setContacts","_useState3","_useState4","editingId","setEditingId","_useState5","_useState6","showForm","setShowForm","_useState7","_useState8","sortField","setSortField","_useState9","_useState10","isAscending","setIsAscending","_useState11","_useState12","searchQuery","setSearchQuery","storageContacts","length","saveContact","newContact","id","updatedContacts","map","contact","concat","_toConsumableArray","_objectSpread","editContact","deleteContact","confirmDelete","window","confirm","filter","handleSortFieldChange","field","filteredContacts","Object","values","some","contactField","toLowerCase","includes","className","container","children","headerContainer","header","searchInput","type","placeholder","value","onChange","event","target","addButton","onClick","separator","headlines","label","currentSortField","contactsEmpty"],"sources":["/Users/kaiten/prgmStuff/adress-book/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AddContactModal from './components/AddContactModal';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Contact, LabelsKey } from './utils/types';\nimport style from './styles/App.module.scss'\nimport { getContacts, saveToLocalStorage, sortContacts } from './utils/contactsUtils';\nimport ContactsList from './components/ContactsList';\nimport Headline from './components/Headline';\nimport { LABELS_KEYS } from './utils/constants';\n\nconst App: React.FC = () => {\n  const [contacts, setContacts] = useState<Contact[]>([]);\n  const [editingId, setEditingId] = useState(\"\");\n  const [showForm, setShowForm] = useState<boolean>(false);\n  const [sortField, setSortField] = useState<LabelsKey>();\n  const [isAscending, setIsAscending] = useState<boolean | undefined>()\n  const [searchQuery, setSearchQuery] = useState<string>('');\n\n  useEffect(() => {\n    const storageContacts = getContacts()\n    setContacts(storageContacts)\n    if (storageContacts.length === 0) {\n      setShowForm(true);\n    }\n  }, [])\n\n  const saveContact = (newContact: Contact) => {\n    if (newContact.id) {\n      const updatedContacts = contacts.map(contact =>\n        contact.id === newContact.id ? newContact : contact\n      );\n      setContacts(updatedContacts);\n      saveToLocalStorage(updatedContacts)\n      setEditingId(\"\");\n    } else {\n      const id = uuidv4()\n      setContacts([...contacts, { ...newContact, id }]);\n      saveToLocalStorage([...contacts, { ...newContact, id }])\n    }\n  };\n\n  const editContact = (id: string) => {\n    setEditingId(id);\n  };\n\n  const deleteContact = (id: string) => {\n    const confirmDelete = window.confirm('Are you sure you want to delete this contact?');\n    if (confirmDelete) {\n      setContacts(contacts.filter(contact => contact.id !== id));\n    }\n  };\n\n  const handleSortFieldChange = (field: LabelsKey) => {\n    setContacts(sortContacts(contacts, field, isAscending))\n    setIsAscending(!isAscending)\n    setSortField(field)\n  }\n\n  const filteredContacts = contacts.filter(contact =>\n    Object.values(contact).some((contactField: string) =>\n      contactField.toLowerCase().includes(searchQuery.toLowerCase())\n    )\n  );\n\n\n  return (\n    <div className={style.container}>\n      <div className={style.headerContainer}>\n        <div className={style.header}>Contacts Book</div>\n        <input\n          className={style.searchInput}\n          type=\"text\"\n          placeholder=\"Search contacts...\"\n          value={searchQuery}\n          onChange={event => setSearchQuery(event.target.value)}\n        />\n        <button className={style.addButton} onClick={() => setShowForm(true)}>Add a new contact</button>\n      </div>\n      <div className={style.separator} />\n\n      <div className={style.headlines}>\n        {LABELS_KEYS.map((label) => (\n          <Headline\n            key={label}\n            label={label}\n            currentSortField={sortField}\n            onClick={() => handleSortFieldChange(label)}\n            isAscending={isAscending}\n          />\n        ))}\n        <div className={style.placeholder} />\n      </div>\n\n      {showForm && (\n        <AddContactModal contactsEmpty={contacts.length === 0} setShowForm={setShowForm} saveContact={saveContact} />\n      )}\n\n      <ContactsList\n        contacts={filteredContacts}\n        editingId={editingId}\n        editContact={editContact}\n        saveContact={saveContact}\n        deleteContact={deleteContact}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}